#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int arr[] = {
    97,  84,  123, 72, 95,  110, 125, 51, 78, -1, -1, 104, 114, -1, -1, -1, 65,
    -1,  -1,  -1,  -1, -1,  -1,  -1, 105, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1,  -1, -1,  -1, -1, -1, -1,
    -1,  -1,  -1,  -1, -1,  -1,  -1,  -1, -1, -1,  -1};

size_t fleg[] = {8, 11, 7, 24, 2, 1, 12, 0, 5, 4, 3, 0, 5, 4, 8, 11, 24, 6};

size_t find(char value) {
  size_t level = 0;

  while (level != -1) {
    if (value == arr[level]) {
      return level;
    } else if (value < arr[level]) {
      level = 2 * level + 1;
    } else if (value > arr[level]) {
      level = 2 * level + 2;
    }
  }
  return level;
}

int main(int argc, char *argv[]) {
  printf("Enter the flag\n>>> ");
  char buf[128];
  scanf("%s", buf);
  size_t buf_len = strlen(buf);

  if (buf_len < sizeof(fleg) / sizeof(fleg[0])) {
    printf("Incorrect!\n");
    exit(1);
  }

  for (size_t i = 0; i < buf_len; i++) {
    size_t index = find(buf[i]);
    if (fleg[i] != index) {
      printf("Incorrect!\n");
      exit(1);
    }
  }
  printf("Correct!\n");
  return 0;
}
